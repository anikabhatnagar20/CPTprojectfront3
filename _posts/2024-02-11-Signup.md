---
comments: True
layout: base
title: Sign-Up Page
description: Allows new users to create an account
courses: {'compsci': {'week': 4}}
type: hacks
permalink: /Signup
---
<style>
    body {
        font-family: 'Times New Roman', Times, serif;
        margin: 50px;
    }
</style>

<!-- Removed the link to external CSS for simplicity in this example -->

<div id="titleContainer">
    <h1 id="title">Sign-Up Page</h1>
</div>

<div class="background"></div>

<div class="container">
    <form id="signupForm">
        <p>
            <label>Name:
                <input class="userInput" type="text" name="name" id="name" required>
            </label>
        </p>
        <p>
            <label>User ID:
                <input class="userInput" type="text" name="uid" id="uid" required>
            </label>
        </p>
        <p>
            <label>Password:
                <input class="userInput" type="password" name="password" id="password" required>
            </label>
        </p>
        <p>
            <label>Date of Birth:
                <input class="userInput" type="text" id="dob" required>
            </label>
        </p>
        <p>
            <button type="button" onclick="createAccount()">Submit</button>
        </p>
    </form>
</div>

<div id="successMessage" style="display:none;">
    <h2>Account created successfully!</h2>
    <p>Please log in now.</p>
</div>
<script type="module"> 
    // uri variable and options object are obtained from config.js
    import { uri, options } from '{{site.baseurl}}/assets/js/api/config.js';
    const url = uri + '/api/users/authenticate';
    const body = {
            // name: document.getElementById("name").value,
            uid: "toby",
            password: "123toby"
            // dob: document.getElementById("dob").value
        };
    const authOptions = {
            ...options, // This will copy all properties from options
            method: 'POST', // Override the method property
            cache: 'no-cache', // Set the cache property
            body: JSON.stringify(body)
        };
    fetch(url, authOptions)
    function createAccount(){
        // Set Authenticate endpoint
        const url = uri + '/api/users/';
        // Set the body of the request to include login data from the DOM
        const body = {
            name: document.getElementById("name").value,
            uid: document.getElementById("uid").value,
            password: document.getElementById("password").value,
            dob: document.getElementById("dob").value,
        };
        // Change options according to Authentication requirements
        const authOptions = {
            ...options, // This will copy all properties from options
            method: 'POST', // Override the method property
            cache: 'no-cache', // Set the cache property
            body: JSON.stringify(body)
        };
        // Fetch JWT
        fetch(url, authOptions)
        .then(response => {
            // handle error response from Web API
            if (!response.ok) {
               window.location.href = '{{site.baseurl}}/Home'
                return;
            }
            // Success!!!
            // Redirect to the database page
            window.location.href = "{{site.baseurl}}/Home";
        })
        // catch fetch errors (ie ACCESS to server blocked)
        .catch(err => {
            console.error(err);
        });
    }
    // Attach login_user to the window object, allowing access to form action
    window.createAccount = createAccount;
</script>
<a href='{{site.baseurl}}/lmc-login'>Link to login</a>